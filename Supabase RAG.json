{
  "name": "Supabase vector",
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -320,
        -48
      ],
      "id": "d071c9af-7eb1-4c9a-bd28-b03edc29dfd4",
      "name": "When clicking ‘Execute workflow’"
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "1JfyA_Hj6mOWe_PjE01JhhZrWsc3btXeN",
          "mode": "list",
          "cachedResultName": "Final Hard Copy.pdf",
          "cachedResultUrl": "https://drive.google.com/file/d/1JfyA_Hj6mOWe_PjE01JhhZrWsc3btXeN/view?usp=drivesdk"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        -112,
        -48
      ],
      "id": "4ebc54d8-6679-4bfb-ba06-00380da53a06",
      "name": "Download file",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "t169RAex9DycwMfq",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "dataType": "binary",
        "textSplittingMode": "custom",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1.1,
      "position": [
        240,
        160
      ],
      "id": "1e57c107-1c15-44f6-bd77-5c5569b3d6f7",
      "name": "Default Data Loader"
    },
    {
      "parameters": {
        "chunkSize": 800,
        "chunkOverlap": 120,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "typeVersion": 1,
      "position": [
        144,
        304
      ],
      "id": "eb6f5dc3-9097-42ba-893b-f0c6ba3824b6",
      "name": "Recursive Character Text Splitter"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -1344,
        176
      ],
      "id": "74fe0249-d322-4d55-8424-c0ab3179a329",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "vZCOUV7q0vdzlmps",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        -1456,
        -96
      ],
      "id": "780a1a18-a225-41d5-9744-a3c13519d8c9",
      "name": "When chat message received",
      "webhookId": "53ddd5fe-1b24-4547-ba48-833337a0a0ab"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "typeVersion": 1,
      "position": [
        -32,
        176
      ],
      "id": "48597ed7-53a8-4b3d-a8f1-230b211b0987",
      "name": "Embeddings Google Gemini",
      "credentials": {
        "googlePalmApi": {
          "id": "qJZl4kyG3fb3uFTn",
          "name": "Google Gemini(PaLM) Api account 2"
        }
      }
    },
    {
      "parameters": {
        "mode": "insert",
        "tableName": {
          "__rl": true,
          "value": "documents_gemini",
          "mode": "list",
          "cachedResultName": "documents_gemini"
        },
        "options": {
          "queryName": "match_documents"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.3,
      "position": [
        96,
        -48
      ],
      "id": "443f1846-dc12-49be-b203-6d4dfed4646a",
      "name": "Supabase Vector Store",
      "credentials": {
        "supabaseApi": {
          "id": "2pRieJZhF8D7WkuJ",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainRetrievalQa",
      "typeVersion": 1.6,
      "position": [
        -1248,
        -96
      ],
      "id": "fe5b9f2c-7c64-4263-b1ba-5627d4376df2",
      "name": "Question and Answer Chain"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.retrieverVectorStore",
      "typeVersion": 1,
      "position": [
        -928,
        48
      ],
      "id": "2fbfb5e4-8e8e-4e02-ac26-5815c78db299",
      "name": "Vector Store Retriever"
    },
    {
      "parameters": {
        "tableName": {
          "__rl": true,
          "value": "rpc/match_documents_gemini",
          "mode": "list",
          "cachedResultName": "rpc/match_documents_gemini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.3,
      "position": [
        -1184,
        160
      ],
      "id": "951e246e-9e3d-4992-818e-b0cf8cda8ced",
      "name": "Supabase Vector Store1",
      "credentials": {
        "supabaseApi": {
          "id": "2pRieJZhF8D7WkuJ",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "typeVersion": 1,
      "position": [
        -880,
        288
      ],
      "id": "af5d3e23-8f4a-4eb9-9215-b51c4e879d54",
      "name": "Embeddings Google Gemini1",
      "credentials": {
        "googlePalmApi": {
          "id": "qJZl4kyG3fb3uFTn",
          "name": "Google Gemini(PaLM) Api account 2"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Download file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download file": {
      "main": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader": {
      "ai_document": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "Recursive Character Text Splitter": {
      "ai_textSplitter": [
        [
          {
            "node": "Default Data Loader",
            "type": "ai_textSplitter",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "Question and Answer Chain",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Question and Answer Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Vector Store Retriever": {
      "ai_retriever": [
        [
          {
            "node": "Question and Answer Chain",
            "type": "ai_retriever",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Vector Store1": {
      "ai_vectorStore": [
        [
          {
            "node": "Vector Store Retriever",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini1": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store1",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "93e2feee-e2a1-47a9-8560-66ebe8b2868c",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "0cd87e54dece3421ea7fa0d1576076392d75320ba42b41d9c547af0e5c400e76"
  },
  "id": "IDkmnEhAVXNi2B2i",
  "tags": []
}